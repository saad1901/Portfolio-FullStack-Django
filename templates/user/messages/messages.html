{% extends 'user/basefiles/base.html' %}

{% block title %}Messages{% endblock %}


{% block style %}

{% endblock %}


{% block content %}
    <div>
        {% if messages %}
            <div class="mb-3">
                {% for message in messages %}
                    <div class="alert alert-{{ message.tags }}">{{ message }}</div>
                {% endfor %}
            </div>
        {% endif %}
    </div>
<div class="main-container">
    <div class="text-container">
        <h1>Messages</h1>
        <p>Here are the messages you have received:</p>
        {% if allmsgs %}
        <ul class="list-group">
            {% for message in allmsgs %}
            <li class="list-group-item d-flex justify-content-between align-items-center py-2">
                <div>
                    <strong>{{ message.fullname }}</strong>
                    <span class="text-muted ms-2" style="font-size: 0.95em;">{{ message.email }}</span>
                    <div style="font-size: 0.98em;">{{ message.message }}</div>
                </div>

                <span class="text-muted d-flex align-items-center gap-3"
                    style="white-space: nowrap; font-size: 0.95em;">
                    {{ message.time|date:"h:i a | d M Y" }}
                    <a href="{% url 'delete_message' message.id %}" class="text-danger" title="Delete" onclick="return confirm('Are you sure you want to delete this message?');">
                        <i class="fas fa-trash-alt"></i>

                    </a>
                </span>
            </li>
            {% endfor %}
        </ul>
        {% else %}
        <p>No messages found.</p>
        {% endif %}
    </div>



    {% endblock %}


    {% block scripts %}

    {% endblock %}